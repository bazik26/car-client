<div class="modal-header">
  <div class="modal-header-content">
    <h4 class="modal-title">Оставить заявку</h4>
    <p>Мы свяжемся с вами в удобном мессенджере</p>
  </div>
  <button
    type="button"
    class="btn-close"
    aria-label="Закрыть"
    (click)="activeModal.hide()"
  >
    <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
      <path d="M13 1L1 13M1 1L13 13" stroke="#FFD700" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </button>
</div>

<div class="modal-body">
  <form class="contact-form" (ngSubmit)="submitContactForm()">
    <!-- Выбор мессенджера -->
    <div class="form-section">
      <label class="form-label" for="messenger-selector">Выберите мессенджер</label>
      <div class="messenger-selector" id="messenger-selector" role="radiogroup" aria-labelledby="messenger-selector">
        <div class="messenger-option" [class.active]="selectedMessenger === 'telegram'">
          <input type="radio" id="telegram" name="messenger" value="telegram"
                 [(ngModel)]="selectedMessenger" required>
          <label for="telegram">
            <div class="telegram-logo" (click)="openTelegramChannel()" 
                 title="Перейти в наш Telegram канал Adena Trans">
              <div class="logo-icon">
                <i class="fab fa-telegram-plane"></i>
              </div>
              <div class="logo-glow"></div>
              <div class="logo-particles">
                <div class="particle particle-1"></div>
                <div class="particle particle-2"></div>
                <div class="particle particle-3"></div>
                <div class="particle particle-4"></div>
              </div>
            </div>
            <span>Telegram</span>
          </label>
        </div>
      </div>
    </div>

    <!-- Поля ввода -->
    <div class="form-section">
      <div class="form-group">
        <label for="firstName" class="form-label">Имя *</label>
        <input type="text" id="firstName" class="form-control"
               [(ngModel)]="contactData.firstName" name="firstName" 
               required autocomplete="given-name" 
               placeholder="Введите ваше имя"
               maxlength="50">
      </div>

      <div class="form-group">
        <label for="phone" class="form-label">Номер телефона *</label>
        <input type="tel" id="phone" class="form-control"
               [(ngModel)]="contactData.phone" name="phone" 
               required autocomplete="tel"
               placeholder="+7 (___) ___-__-__"
               pattern="[\+]?[0-9\s\-\(\)]+"
               maxlength="20">
      </div>
    </div>

    <!-- Комментарий -->
    <div class="form-section">
      <label for="message" class="form-label">Комментарий (необязательно)</label>
      <textarea id="message" class="form-control" rows="3"
                [(ngModel)]="contactData.message" name="message"
                placeholder="Укажите удобное время для связи или дополнительные пожелания"
                maxlength="500"
                aria-describedby="message-help"></textarea>
      <small id="message-help" class="form-text">Максимум 500 символов</small>
    </div>
  </form>
</div>

<div class="modal-footer">
  <button type="button" class="btn btn-secondary" (click)="activeModal.hide()">
    Отменить
  </button>
  <button type="submit" class="btn btn-primary" (click)="submitContactForm()" 
          [disabled]="!selectedMessenger || !contactData.firstName || !contactData.phone">
    Отправить заявку
  </button>
</div>
