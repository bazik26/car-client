<!-- Hero Section -->
<section class="hero-section">
  <div class="hero-content">
    <div class="hero-logo">
      <div class="logo-container">
        <div class="logo-icon">
          <i class="fas fa-car"></i>
        </div>
        <div class="logo-text">
          <span class="logo-brand">{{ brandConfig.name }}</span>
          <span class="logo-tagline">Автомобили с пробегом</span>
        </div>
      </div>
    </div>
    
    <div class="hero-text">
      <h1 class="hero-title">
        Добро пожаловать в <span class="brand-highlight">{{ brandConfig.name }}</span>
      </h1>
      <p class="hero-subtitle">
        Лучшие автомобили с пробегом по выгодным ценам. 
        Гарантия качества и профессиональное обслуживание.
      </p>
      <div class="hero-buttons">
        <a class="btn btn-primary btn-lg" routerLink="/cars/search">
          <i class="fas fa-search me-2"></i>
          Найти автомобиль
        </a>
        <button class="btn btn-outline-light btn-lg" (click)="openContactUsModal()">
          <i class="fas fa-phone me-2"></i>
          Связаться с нами
        </button>
      </div>
    </div>
  </div>
  
  <div class="hero-decoration">
    <div class="floating-elements">
      <div class="floating-element element-1"></div>
      <div class="floating-element element-2"></div>
      <div class="floating-element element-3"></div>
    </div>
  </div>
  
  <!-- Modern Scroll Indicator -->
  <div class="modern-scroll-indicator" (click)="scrollToNextSection()">
    <div class="scroll-orb">
      <div class="orb-core"></div>
      <div class="orb-ring ring-1"></div>
      <div class="orb-ring ring-2"></div>
      <div class="orb-ring ring-3"></div>
      <div class="orb-pulse"></div>
    </div>
    
    <div class="scroll-waves">
      <div class="wave wave-1"></div>
      <div class="wave wave-2"></div>
      <div class="wave wave-3"></div>
    </div>
    
    <div class="scroll-text">
      <span class="text-line">Прокрутите</span>
      <span class="text-line">вниз</span>
    </div>
    
    <div class="scroll-particles">
      @for (i of [1,2,3,4,5,6]; track i) {
        <div class="particle"></div>
      }
    </div>
  </div>
</section>

<!-- Recent Cars Slider -->
<section class="recent-cars-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">
        <i class="fas fa-clock me-3"></i>
        Недавно добавленные
      </h2>
      <p class="section-subtitle">Свежие поступления в наш автопарк</p>
    </div>
    
    <!-- Переключатель проектов (для демонстрации) -->
    <app-project-switcher></app-project-switcher>
    
    @if (isLoading) {
      <div class="loading-spinner">
        <div class="spinner-border text-warning" role="status">
          <span class="visually-hidden">Загрузка...</span>
        </div>
      </div>
    } @else {
      <div class="recent-cars-grid">
        <div class="row">
          @for (car of recentCars; track car.id; let index = $index) {
            <div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-4">
              <app-car-item-configurable [car]="car"></app-car-item-configurable>
            </div>
          }
        </div>
      </div>
    }
  </div>
</section>

<!-- Special Offer Section -->
<section class="special-offer-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">
        <i class="fas fa-fire me-3"></i>
        Выгодные предложения
      </h2>
      <p class="section-subtitle">Ограниченное время! Специальные цены на отличные автомобили</p>
    </div>
    
    <div class="special-offer-grid">
      @for (car of specialOfferCars; track car.id; let index = $index) {
        <div class="special-offer-card" [style.animation-delay]="(index * 0.1) + 's'">
          <div class="discount-badge">
            -{{ getDiscountPercentage(car.originalPrice, car.discountedPrice) }}%
          </div>
          <div class="car-image">
            @if (car.files && car.files.length > 0) {
              <img [ngSrc]="appService.getFileUrl(car.files[0])" 
                   [alt]="car.brand + ' ' + car.model"
                   width="300" 
                   height="200">
            }
          </div>
          <div class="car-info">
            <h3 class="car-title">{{ car.brand }} {{ car.model }} {{ car.year }}</h3>
            <div class="price-section">
              <div class="original-price">{{ car.originalPrice | currency: brandConfig.currency : "symbol" : "1.0-0" }}</div>
              <div class="discounted-price">{{ car.discountedPrice | currency: brandConfig.currency : "symbol" : "1.0-0" }}</div>
            </div>
            <div class="car-specs">
              <span class="spec-item">
                <i class="fas fa-tachometer-alt"></i>
                {{ car.mileage }} км
              </span>
              <span class="spec-item">
                <i class="fas fa-cog"></i>
                {{ car.engine }} л
              </span>
            </div>
            <a class="btn btn-warning btn-sm" [routerLink]="['/cars', car.id]">
              Подробнее
            </a>
          </div>
        </div>
      }
    </div>
  </div>
</section>

<!-- Service Guarantee Section -->
<section class="service-guarantee-section">
  <div class="container">
    <div class="guarantee-content">
      <div class="guarantee-shield">
        <div class="shield-icon">
          <i class="fas fa-shield-alt"></i>
        </div>
        <div class="shield-glow"></div>
        <div class="shield-particles">
          <div class="particle particle-1"></div>
          <div class="particle particle-2"></div>
          <div class="particle particle-3"></div>
          <div class="particle particle-4"></div>
        </div>
      </div>
      <div class="guarantee-text">
        <h3 class="guarantee-title">Гарантия качества</h3>
        <p class="guarantee-description">
          При покупке автомобиля от <strong>1 500 000 {{ brandConfig.currency }}</strong> 
          мы предоставляем <strong>полное ТО и гарантийное обслуживание на 3 месяца</strong> 
          в наших партнерских автосервисах.
        </p>
        <div class="guarantee-features">
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Полное техническое обслуживание</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Гарантия 3 месяца</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Партнерские автосервисы</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
  <div class="container">
    <div class="cta-content">
      <h2 class="cta-title">Готовы найти свой идеальный автомобиль?</h2>
      <p class="cta-subtitle">Свяжитесь с нами прямо сейчас и получите персональную консультацию</p>
      <div class="cta-buttons">
        <button class="btn btn-warning btn-lg" (click)="openContactUsModal()">
          <i class="fas fa-phone me-2"></i>
          {{ brandConfig.phone }}
        </button>
        <a class="btn btn-outline-light btn-lg" routerLink="/cars/search">
          <i class="fas fa-car me-2"></i>
          Посмотреть все автомобили
        </a>
      </div>
    </div>
  </div>
</section>
